(function(){"use strict";if (typeof SNOW === "function") return;(()=>{var e={49:(e,t,r)=>{const{getFramesArray:n,getDeclarativeShadows:o}=r(347),{document:i,getChildElementCount:c,setInnerHTML:s}=r(922),{error:a,ERR_DECLARATIVE_SHADOWS_BLOCKED:u,ERR_HTML_FRAMES_BLOCKED:p}=r(144);e.exports={assertHTML:function(e){for(let t=0;t<e.length;t++){const r=i.createElement("html");if(s(r,e[t]),c(r)&&n(r,!1).length)throw a(p,e[t])}}}},85:e=>{const t=Object.getOwnPropertyDescriptor(window,"length").get,r=t.bind(window),n=Object.getOwnPropertyDescriptor(Document.prototype,"createElement").value.bind(document),o=Object.getOwnPropertyDescriptor(Node.prototype,"appendChild").value.bind(document.documentElement),i=Object.getOwnPropertyDescriptor(Node.prototype,"removeChild").value.bind(document.documentElement);e.exports={getLength:t,runInNewRealm:function(e){const t=r(),c=n("IFRAME");o(c);const s=e(window[t]);return i(c),s}}},144:e=>{const{Error:t}=globalThis,{from:r}=Array,n=Function.prototype.apply.bind(console.error,console);function o(e){const o=r(arguments);return n(o),new t(e)}function i(e){return`SNOW ERROR (CODE:${e}):`}e.exports={error:function(e,t,r,n){switch(e){case 7:const e=t,c=r,s=n;return o(i(7),`blocking ${c} object:`,e,`of type "${s}" (not in allow list)`,".","if this prevents your application from running correctly, please visit/report at","https://github.com/LavaMoat/snow/issues/87#issuecomment-1586868353",".");case 6:const a=t,u=r;return o(i(6),`blocking extension attempt ("${a}") of framable elements such as provided`,u,".","if this prevents your application from running correctly, please visit/report at","https://github.com/LavaMoat/snow/issues/56#issuecomment-1374899809",".");case 1:const p=t,l=r;return o(i(1),"failed to mark new window:",p,".","if this prevents your application from running correctly, please visit/report at","https://github.com/LavaMoat/snow/issues/33#issuecomment-1239280063",".","in order to maintain a bulletproof defense mechanism, failing to mark a new window typically causes an infinite loop",".","error caught:",l);case 2:const g=t;return o(i(2),'first argument must be of type "function", instead got:',g,".","therefore, snow bailed and is not applied to the page until this is fixed.");case 3:const m=t,f=r;return o(i(3),'blocking open attempt to "javascript:" url:',m,"by window: ",f,".","if this prevents your application from running correctly, please visit/report at","https://github.com/LavaMoat/snow/issues/44#issuecomment-1369687802",".");case 4:const y=t,d=r;return o(i(4),"blocking access to property:",`"${y}"`,"of opened window: ",d,".","if this prevents your application from running correctly, please visit/report at","https://github.com/LavaMoat/snow/issues/2#issuecomment-1239264255",".");case 5:const E=t;return o(i(5),"blocking html string that includes a representation of a declarative shadow:",`"${E}"`,".","if this prevents your application from running correctly, please visit/report at","https://github.com/LavaMoat/snow/issues/32#issuecomment-1239273328",".");case 8:const w=t;return o(i(8),'blocking html string that includes a representation of a framable element with the "srcdoc" attribute:',`"${w}"`,".","if this prevents your application from running correctly, please visit/report at","https://github.com/LavaMoat/snow/issues/???",".");case 9:const O=t;return o(i(9),"blocking document.write\\ln action on a document that is not the top most document:",O,".","if this prevents your application from running correctly, please visit/report at","https://github.com/LavaMoat/snow/issues/???",".")}},generateErrorMessage:i,ERR_MARK_NEW_WINDOW_FAILED:1,ERR_OPENED_PROP_ACCESS_BLOCKED:4,ERR_OPEN_JS_SCHEME_BLOCKED:3,ERR_CB_MUST_BE_FUNCTION:2,ERR_DECLARATIVE_SHADOWS_BLOCKED:5,ERR_EXTENDING_FRAMABLES_BLOCKED:6,ERR_BLOB_TYPE_BLOCKED:7,ERR_HTML_FRAMES_BLOCKED:8,ERR_NON_TOP_DOCUMENT_WRITE_BLOCKED:9}},210:(e,t,r)=>{const{Object:n,Function:o}=r(922),{isTagFramable:i}=r(347),{error:c,ERR_EXTENDING_FRAMABLES_BLOCKED:s}=r(144);e.exports=function(e){const t=n.getOwnPropertyDescriptor(e.CustomElementRegistry.prototype,"define");t.configurable=t.writable=!0;const r=t.value;var a;t.value=(a=r,function(e,t,r){let n=r;if(r){const t=r.extends;if(i(t+""))throw c(s,e,r)}return o.prototype.call.call(a,this,e,t,n)}),n.defineProperty(e.CustomElementRegistry.prototype,"define",t)}},347:(e,t,r)=>{const{tagName:n,nodeType:o,slice:i,Array:c,parse:s,stringify:a,Node:u,Document:p,DocumentFragment:l,Element:g,ShadowRoot:m,getContentWindow:f,getDefaultView:y,getOwnerDocument:d,stringToLowerCase:E,Object:w}=r(922),O=new c,h=new c;function D(e){return O.includes(e)}function b(e){if(D(e))return m;switch(o(e)){case u.prototype.DOCUMENT_NODE:return p;case u.prototype.DOCUMENT_FRAGMENT_NODE:return l;default:return g}}function v(e){const t=E(e);return"iframe"===t||"frame"===t||"object"===t||"embed"===t}function P(e){if(!e||"object"!=typeof e)return null;if(o(e)!==g.prototype.ELEMENT_NODE)return null;if(D(e))return null;const t=n(e);return v(t)?t:null}function L(e){return c.isArray(e)||(e=new c(e)),e}function C(e,t){let r=!1;for(let n=0;n<t.length;n++)e.includes(t[n])||(e.push(t[n]),r=!0);return r}e.exports={getDeclarativeShadows:function(e){return b(e).prototype.querySelectorAll.call(e,"template[shadowroot]")},makeDescriptorSetter:function(e,t){const r=w.create(null);return r.value=t,function(t){w.getOwnPropertyDescriptor(t,e)||w.defineProperty(t,e,r)}},toArray:L,isTagFramable:v,getOwnerWindowOfNode:function(e){return y(d(e))},getContentWindowOfFrame:function(e){return f(e,P(e))},getFramesArray:function(e,t){const r=new c;if(null===e||"object"!=typeof e)return r;if(n=e,h.includes(n)||!function(e){if(D(e))return!0;const t=o(e);return t===g.prototype.ELEMENT_NODE||t===g.prototype.DOCUMENT_FRAGMENT_NODE||t===g.prototype.DOCUMENT_NODE}(e))return r;var n;const s=b(e).prototype.querySelectorAll.call(e,"iframe,frame,object,embed");return C(r,i(s)),t&&C(r,L(e)),r},getFrameTag:P,shadows:O,trustedHTMLs:h}},354:(e,t,r)=>{const{Map:n,toString:o,stringStartsWith:i,Blob:c}=r(922);e.exports=function(e){!function(e){const t=e.Worker;e.Worker=function(e,r){const n="string"==typeof e?e:o(e);if(i(n,"blob"))throw"worker to blob forbidden";if(i(n,"javascript"))throw"worker to javascript forbidden";return new t(n,r)}}(e)}},465:(e,t,r)=>{const{Object:n,slice:o,Function:i}=r(922),{proxy:c}=r(926);function s(e,t){const r=n.getOwnPropertyDescriptor(e[t].prototype,"window"),o=r.get;r.get=function(){return c(o.call(this))},n.defineProperty(e[t].prototype,"window",r)}e.exports=function(e){e?.documentPictureInPicture?.requestWindow&&(e.documentPictureInPicture.requestWindow=function(e,t,r){return r(e,"DocumentPictureInPictureEvent"),r(e,"DocumentPictureInPicture"),async function(){const e=o(arguments),r=await i.prototype.apply.call(t,this,e);return r?c(r):null}}(e,e.documentPictureInPicture.requestWindow,s))}},675:(e,t,r)=>{const{stringToLowerCase:n,stringStartsWith:o,slice:i,Function:c,Object:s}=r(922),{error:a,ERR_OPEN_JS_SCHEME_BLOCKED:u}=r(144),{proxy:p,getProxyByWindowProxy:l}=r(926);e.exports=function(e){const t=s.getOwnPropertyDescriptor(e,"opener"),r=t.get;var n;t.get=(n=r,function(){const e=c.prototype.apply.call(n,this);return e?p(e):null}),s.defineProperty(e,"opener",t)}},922:(e,t,r)=>{const{runInNewRealm:n}=r(85);e.exports=function(e){const t=function(e){const{EventTarget:t}=e;return n((function(e){const{URL:r,Proxy:n,JSON:o,Attr:i,String:c,Function:s,Map:a,Node:u,Document:p,DocumentFragment:l,Blob:g,ShadowRoot:m,Object:f,Reflect:y,Array:d,Element:E,HTMLElement:w,Range:O,HTMLIFrameElement:h,HTMLFrameElement:D,HTMLObjectElement:b}=e,v={URL:r,Proxy:n,JSON:o,Attr:i,String:c,Function:s,Map:a,Node:u,Document:p,DocumentFragment:l,Blob:g,ShadowRoot:m,Object:f,Reflect:y,Array:d,Element:E,HTMLElement:w,Range:O,EventTarget:t,HTMLIFrameElement:h,HTMLFrameElement:D,HTMLObjectElement:b};return v.document={createElement:e.document.createElement.bind(e.document)},v}))}(e),{document:r,Proxy:o,Function:i,String:c,Map:s,Node:a,Document:u,DocumentFragment:p,Blob:l,ShadowRoot:g,Object:m,Reflect:f,Array:y,Element:d,HTMLElement:E,Range:w,EventTarget:O,HTMLIFrameElement:h,HTMLFrameElement:D,HTMLObjectElement:b}=t;return m.assign(t,{iframeContentWindow:m.getOwnPropertyDescriptor(h.prototype,"contentWindow").get,frameContentWindow:m.getOwnPropertyDescriptor(D.prototype,"contentWindow").get,objectContentWindow:m.getOwnPropertyDescriptor(b.prototype,"contentWindow").get,createElement:m.getOwnPropertyDescriptor(u.prototype,"createElement").value,slice:m.getOwnPropertyDescriptor(y.prototype,"slice").value,push:m.getOwnPropertyDescriptor(y.prototype,"push").value,split:m.getOwnPropertyDescriptor(c.prototype,"split").value,nodeType:m.getOwnPropertyDescriptor(a.prototype,"nodeType").get,isConnected:m.getOwnPropertyDescriptor(a.prototype,"isConnected").get,tagName:m.getOwnPropertyDescriptor(d.prototype,"tagName").get,getInnerHTML:m.getOwnPropertyDescriptor(d.prototype,"innerHTML").get,setInnerHTML:m.getOwnPropertyDescriptor(d.prototype,"innerHTML").set,toString:m.getOwnPropertyDescriptor(m.prototype,"toString").value,getOnload:m.getOwnPropertyDescriptor(E.prototype,"onload").get,setOnload:m.getOwnPropertyDescriptor(E.prototype,"onload").set,getAttribute:m.getOwnPropertyDescriptor(d.prototype,"getAttribute").value,setAttribute:m.getOwnPropertyDescriptor(d.prototype,"setAttribute").value,removeAttribute:m.getOwnPropertyDescriptor(d.prototype,"removeAttribute").value,remove:m.getOwnPropertyDescriptor(d.prototype,"remove").value,addEventListener:m.getOwnPropertyDescriptor(O.prototype,"addEventListener").value,removeEventListener:m.getOwnPropertyDescriptor(O.prototype,"removeEventListener").value,getChildElementCount:m.getOwnPropertyDescriptor(d.prototype,"childElementCount").get,getFrameElement:m.getOwnPropertyDescriptor(e,"frameElement").get,getParentElement:m.getOwnPropertyDescriptor(a.prototype,"parentElement").get,getOwnerDocument:m.getOwnPropertyDescriptor(a.prototype,"ownerDocument").get,getDefaultView:m.getOwnPropertyDescriptor(u.prototype,"defaultView").get,getBlobFileType:m.getOwnPropertyDescriptor(l.prototype,"type").get,getPreviousElementSibling:m.getOwnPropertyDescriptor(d.prototype,"previousElementSibling").get,getCommonAncestorContainer:m.getOwnPropertyDescriptor(w.prototype,"commonAncestorContainer").get}),{document:r,Proxy:o,Object:m,Reflect:f,Function:i,Node:a,Element:d,Document:u,DocumentFragment:p,Blob:l,ShadowRoot:g,Array:y,Map:s,getContentWindow:function(e,r){switch(r){case"IFRAME":return t.iframeContentWindow.call(e);case"FRAME":return t.frameContentWindow.call(e);case"OBJECT":return t.objectContentWindow.call(e);default:return null}},stringToLowerCase:function(e){return t.String.prototype.toLowerCase.call(e)},stringStartsWith:function(e,r){return t.String.prototype.startsWith.call(e,r)},parse:function(e,r){return t.JSON.parse(e,r)},stringify:function(e,r,n){return t.JSON.stringify(e,r,n)},slice:function(e,r,n){return t.slice.call(e,r,n)},push:function(e,r){return t.push.call(e,r)},split:function(e,r){return t.split.call(e,r)},nodeType:function(e){return t.nodeType.call(e)},isConnected:function(e){return t.isConnected.call(e)},tagName:function(e){return t.tagName.call(e)},toString:function(e){return t.toString.call(e)},getOnload:function(e){return t.getOnload.call(e)},setOnload:function(e,r){return t.setOnload.call(e,r)},remove:function(e){return t.remove.call(e)},removeAttribute:function(e,r){return t.removeAttribute.call(e,r)},getAttribute:function(e,r){return t.getAttribute.call(e,r)},setAttribute:function(e,r,n){return t.setAttribute.call(e,r,n)},addEventListener:function(e,r,n,o){return t.Function.prototype.call.call(t.addEventListener,e,r,n,o)},removeEventListener:function(e,r,n,o){return t.Function.prototype.call.call(t.removeEventListener,e,r,n,o)},createElement:function(e,r,n){return t.createElement.call(e,r,n)},getInnerHTML:function(e){return t.getInnerHTML.call(e)},setInnerHTML:function(e,r){return t.setInnerHTML.call(e,r)},getChildElementCount:function(e){return t.getChildElementCount.call(e)},getFrameElement:function(e){return t.Function.prototype.call.call(t.getFrameElement,e)},getParentElement:function(e){return t.getParentElement.call(e)},getOwnerDocument:function(e){return t.getOwnerDocument.call(e)},getDefaultView:function(e){return t.getDefaultView.call(e)},getBlobFileType:function(e){return t.getBlobFileType.call(e)},getPreviousElementSibling:function(e){return t.getPreviousElementSibling.call(e)},getCommonAncestorContainer:function(e){return t.getCommonAncestorContainer.call(e)}}}(top)},926:(e,t,r)=>{const{Object:n,Proxy:o,Reflect:i,Map:c}=r(922),{error:s,ERR_OPENED_PROP_ACCESS_BLOCKED:a}=r(144),u=new c;function p(e){return u.get(e)}e.exports={proxy:function(e){const t=n.create(null);if(n.defineProperty(t,"closed",{get:function(){return e.closed}}),n.defineProperty(t,"close",{value:function(){return e.close()}}),n.defineProperty(t,"focus",{value:function(){return e.focus()}}),n.defineProperty(t,"postMessage",{value:function(t,r,n){return e.postMessage(t,r,n)}}),!u.has(e)){const r=new o(t,{get:function(t,r){let n=i.get(t,r);if(i.has(t,r))return n;if(i.has(e,r))throw s(a,r,e);return n},set:function(){}});u.set(e,r)}return p(e)},getProxyByWindowProxy:p}},954:(e,t,r)=>{const n=r(210),o=r(988),i=r(465),c=r(997),s=r(354),a=r(675);e.exports=function(e){n(e),o(e),i(e),c(e),s(e),a(e)}},988:(e,t,r)=>{const{stringToLowerCase:n,stringStartsWith:o,slice:i,Function:c,Object:s}=r(922),{error:a,ERR_OPEN_JS_SCHEME_BLOCKED:u}=r(144),{proxy:p,getProxyByWindowProxy:l}=r(926);function g(e){const t=s.getOwnPropertyDescriptor(e.MessageEvent.prototype,"source"),r=t.get;t.get=function(){const e=r.call(this);return l(e)||e},s.defineProperty(e.MessageEvent.prototype,"source",t)}function m(e,t,r,s){return r(e),function(){const r=i(arguments),l=r[0];if(o(n(l+""),"javascript"))throw a(u,l+"",e);if(o(n(l+""),"blob"))throw a(u,l+"",e);const g=c.prototype.apply.call(t,this,r);return g?!s&&r.length<3?g:p(g):null}}e.exports=function(e){s.defineProperty(e,"open",{value:m(e,e.open,g,!0)}),s.defineProperty(e.Document.prototype,"open",{value:m(e,e.document.open,g,!1)})}},997:(e,t,r)=>{const{error:n,ERR_NON_TOP_DOCUMENT_WRITE_BLOCKED:o,ERR_HTML_FRAMES_BLOCKED:i}=r(144),{slice:c,Object:s,Function:a}=r(922),{assertHTML:u}=r(49),{getFramesArray:p,isTagFramable:l}=r(347),g={Range:["insertNode"],DocumentFragment:["replaceChildren","append","prepend"],Document:["replaceChildren","append","prepend","write","writeln"],Node:["appendChild","insertBefore","replaceChild"],Element:["innerHTML","outerHTML","insertAdjacentHTML","replaceWith","insertAdjacentElement","append","before","prepend","after","replaceChildren"],ShadowRoot:["innerHTML"],HTMLIFrameElement:["srcdoc"]},m=s.getOwnPropertyNames(g);function f(e,t,r){return function(){if(r&&this!==top.document)throw n(o,this);const t=c(arguments);return u(t),t.forEach((e=>{if(l(e))throw n(i,e);if(p(e,!1).length)throw n(i,e)})),a.prototype.apply.call(e,this,t)}}e.exports=function(e){for(let t=0;t<m.length;t++){const r=m[t],n=g[r];for(let t=0;t<n.length;t++){const o=n[t],i=s.getOwnPropertyDescriptor(e[r].prototype,o);if(!i)continue;const c=i.set?"set":"value",a="write"===o||"writeln"===o;i[c]=f(i[c],0,a),i.configurable=!0,"value"===c&&(i.writable=!0),s.defineProperty(e[r].prototype,o,i)}}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(954),t=r.n(e);!function(e){Object.defineProperty(e,"SNOW",{value:function(t){r(t||e)}});let r=t();e!==top&&(r=top.SNOW,e.SNOW((()=>{}),e))}(window)})()})();}())